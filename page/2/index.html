
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="저장하고 까먹자">
    <title>저장하고 까먹자</title>
    <meta name="author" content="Junggu Ji">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"https://jungguji.github.io","author":{"@type":"Person","name":"Junggu Ji","sameAs":["https://github.com/","mailto"]},"name":"저장하고 까먹자","description":"","url":"https://jungguji.github.io"}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="저장하고 까먹자">
<meta property="og:url" content="https://jungguji.github.io/page/2/index.html">
<meta property="og:site_name" content="저장하고 까먹자">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="Junggu Ji">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-0v3zgfakrzmjoj7mhqewlnecogoqxgnfgvjlrw6b9na0ll2gjplxm4ld0oox.min.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/" aria-label>
            저장하고 까먹자
        </a>
    </div>
    
        
            <a class="header-right-picture " href="#about" aria-label="링크 열기: /#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/" rel="noopener" title="Home">
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" rel="noopener" title="카테고리">
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" rel="noopener" title="태그">
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" rel="noopener" title="아카이브">
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" rel="noopener" title="About">
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub">
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/mailto" rel="noopener" title="Mail">
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" rel="noopener" title="RSS">
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1" class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/" aria-label=": Spring boot Heroku에 배포하기">
                            Spring boot Heroku에 배포하기
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-01-28T21:07:20+09:00">
	
		    2021/01/28
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>AWS 프리티어는 이미 다른 서비스가 이용하고 있고 Java를 지원해주는 클라우드 서비스가 없었는데 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.heroku.com/">heroku</a>를 발견하여 사용방법을 정리 해둔다.</p>
<p><strong>참고로 데이터베이스는 한글을 지원하지 않는다.</strong></p>
<hr>
<h2 id="본론"><a href="#본론" class="headerlink" title="본론"></a>본론</h2><ol>
<li>heroku 회원 가입</li>
</ol>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85.PNG" class title="Spring boot Heroku에 배포하기 회원가입 회원가입">

<ol start="2">
<li>App 생성</li>
</ol>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/new_app.PNG" class title="Spring boot Heroku에 배포하기 Create a new app Create a new app">

<p>위에 보이는 create a new app 버튼을 클릭하고</p>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/image.png" class title="Spring boot Heroku에 배포하기 app 이름 지정 app 이름 지정">

<p>App name을 지정해야 하는데 이미 heroku에 존재하는 service의 name은 생성 할 수 없고,<br>여기서 지정한 App name으로 호스팅 될 URL이 생성된다.</p>
<ul>
<li>ex) appname : backjoonframeautomaticgenerat<br>  URL : <a target="_blank" rel="external nofollow noopener noreferrer" href="https://backjoonframeautomaticgenerat.herokuapp.com/">https://backjoonframeautomaticgenerat.herokuapp.com/</a></li>
</ul>
<ol start="3">
<li>heroku CLI 설치</li>
</ol>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/CLI_%EC%84%A4%EC%B9%98.png" class title="Spring boot Heroku에 배포하기 Heroku CLI 설치 Heroku CLI 설치">

<p>생성이 완료되면 위 화면처럼 Deploy tab으로 이동되는데 설명되어 있는 것 처럼 먼저 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://devcenter.heroku.com/articles/heroku-cli">Heroku CLI</a>를 자신의 OS 버전에 맞게 설치한다.</p>
<ol start="4">
<li>Procfile 생성</li>
</ol>
<p>Heroku는 실행 할 때 마다 port를 자동으로 지정해주는데 port를 고정시키기 위해 우선 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-use-short-command-line-arguments">application.properties에 port를 바인딩</a> 해준다.</p>
<h3 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.port=$&#123;port:<span class="number">8080</span>&#125;</span><br></pre></td></tr></table></figure>

<p>그 후 Procfile을 Project 루트 디렉토리에 확장자 없이 생성하고 아래와 같이 작성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">web: java -Dserver.port=$PORT $JAVA_OPTS -jar [실행될 jar파일 경로]</span><br></pre></td></tr></table></figure>

<h3 id="Procfile의-경로"><a href="#Procfile의-경로" class="headerlink" title="Procfile의 경로"></a>Procfile의 경로</h3><img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/Procfile_%EA%B2%BD%EB%A1%9C.png" class title="Spring boot Heroku에 배포하기 Procfile의 경로 Procfile의 경로 루트 디렉토리에 오도록 작성한다.">

<ol start="5">
<li>배포</li>
</ol>


<p>이후엔 heroku의 가이드를 그대로 따라하면 된다.</p>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/%EB%B0%B0%ED%8F%AC%EC%99%84%EB%A3%8C.png" class title="Spring boot Heroku에 배포하기 배포 완료 배포 완료">

<p>모든 가이드를 정상적으로 잘 따라하면 위 처럼 접속할 수 있는 URL이 출력되고 해당 URL로 접속하면</p>
<ol start="6">
<li>확인</li>
</ol>
<p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://backjoonframeautomaticgenerat.herokuapp.com/">https://backjoonframeautomaticgenerat.herokuapp.com/</a></p>
<img src="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/%ED%99%95%EC%9D%B8.PNG" class title="Spring boot Heroku에 배포하기 확인 배포가 마무리된 모습">

<p>정상적으로 실행되어 서비스가 실행되는 것을 확인 할 수 있다.</p>
<hr>
<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><p>데이터베이스를 사용하지 않는 서비스나, 한글이 입력되지 않는 서비스의 경우 무료로 이용 할 수 있는 좋은 클라우드 서비스 인 것 같다.</p>
<p>참고로 30분간 접속이 없으면 휴면 모드로 전환되어 최초 접속이 다소 느릴 수 있으나 무료 서비스인 만큼 그정도는 감안해주자.</p>
<p>이 글에 소개한 CLI를 이용한 방법 말고 Github와 연결해서 branch에 push하면 자동으로 배포되게 할 수 도 있는 것 같으니 찾아보고 적용하면 이 방법 보다 더 편할 것이다.</p>
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://jeong-pro.tistory.com/182">https://jeong-pro.tistory.com/182</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://wedul.site/590">https://wedul.site/590</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2021/01/28/Spring-boot-Heroku%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0/" aria-label=": Spring boot Heroku에 배포하기">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2021/01/22/failed-to-lazily-initialize-a-collection-of-role/" aria-label=": failed to lazily initialize a collection of role">
                            failed to lazily initialize a collection of role
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-01-22T22:31:53+09:00">
	
		    2021/01/22
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>연관관계에 있는 객체를 가져와서 set 하는 메서드를 테스트 하는 도중 아래와 같은 에러가 발생하였다.</p>
<hr>
<h2 id="본론"><a href="#본론" class="headerlink" title="본론"></a>본론</h2><h3 id="해당-에러"><a href="#해당-에러" class="headerlink" title="해당 에러"></a>해당 에러</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.jjlee.wedding.payment.domain.Cost.costOptions, no session or session was closed</span><br><span class="line"></span><br><span class="line">	at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:<span class="number">383</span>)</span><br><span class="line">	at org.hibernate.collection.AbstractPersistentCollection.throwLazyInitializationExceptionIfNotConnected(AbstractPersistentCollection.java:<span class="number">375</span>)</span><br><span class="line">	at org.hibernate.collection.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:<span class="number">122</span>)</span><br><span class="line">	at org.hibernate.collection.PersistentBag.size(PersistentBag.java:<span class="number">248</span>)</span><br><span class="line">	at com.xxxxxx.ImplTest.가져와서_셋해야하는지_테스트(CostServiceImplTest.java:<span class="number">89</span>)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">	at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">	at org.junit.runners.model.FrameworkMethod$<span class="number">1.</span>runReflectiveCall(FrameworkMethod.java:<span class="number">59</span>)</span><br><span class="line">	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:<span class="number">12</span>)</span><br><span class="line">	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:<span class="number">56</span>)</span><br><span class="line">	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:<span class="number">17</span>)</span><br><span class="line">	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:<span class="number">26</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:<span class="number">75</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:<span class="number">86</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:<span class="number">84</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:<span class="number">366</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:<span class="number">252</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:<span class="number">94</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner$<span class="number">4.</span>run(ParentRunner.java:<span class="number">331</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner$<span class="number">1.</span>schedule(ParentRunner.java:<span class="number">79</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:<span class="number">329</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner.access$<span class="number">100</span>(ParentRunner.java:<span class="number">66</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner$<span class="number">2.</span>evaluate(ParentRunner.java:<span class="number">293</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:<span class="number">61</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:<span class="number">70</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner$<span class="number">3.</span>evaluate(ParentRunner.java:<span class="number">306</span>)</span><br><span class="line">	at org.junit.runners.ParentRunner.run(ParentRunner.java:<span class="number">413</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:<span class="number">191</span>)</span><br><span class="line">	at org.junit.runner.JUnitCore.run(JUnitCore.java:<span class="number">137</span>)</span><br><span class="line">	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:<span class="number">68</span>)</span><br><span class="line">	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:<span class="number">33</span>)</span><br><span class="line">	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:<span class="number">230</span>)</span><br><span class="line">	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:<span class="number">58</span>)</span><br></pre></td></tr></table></figure>

<p>이 때 디버깅을 해보면 연결된 entitiy에서</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Unable to evaluate the expression Method threw <span class="string">&#x27;org.hibernate.LazyInitializationException&#x27;</span> exception.</span><br></pre></td></tr></table></figure>

<p>라는 에러가 발생해 있는데 이는 결국 select 한 entitiy가 영속성 컨텍스트 내에 존재하지 않기 때문에 발생한 애러이다.<br>위 에러에서 말하는 세션이 바로 영속성 컨텍스트를 말하는 것이고, 이는 한 트랜잭션안에 해당 entitiy가 존재하지 않다는 것과 같은 말이다.</p>
<h3 id="해결"><a href="#해결" class="headerlink" title="해결"></a>해결</h3><p>이를 해결하기 위해선 현재 지연로딩으로 되어있는 연관관계를 즉시로딩으로 변경하여 한번에 가져오던가,<br>혹은 Test 메서드에 @Transactional 어노테이션을 줘서 트랜잭션 내에 존재하도록 해주면 테스트가 정상적으로 통과되게 된다.</p>
<h3 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h3>
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a href="%5Bhttps://bebong.tistory.com/entry/JPA-Lazy-Evaluation-LazyInitializationException-could-not-initialize-proxy-%E2%80%93-no-Session%5D(https://bebong.tistory.com/entry/JPA-Lazy-Evaluation-LazyInitializationException-could-not-initialize-proxy-%E2%80%93-no-Session)"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://bebong.tistory.com/entry/JPA-Lazy-Evaluation-LazyInitializationException-could-not-initialize-proxy-%E2%80%93-no-Session">https://bebong.tistory.com/entry/JPA-Lazy-Evaluation-LazyInitializationException-could-not-initialize-proxy-–-no-Session</a></a></li>
<li><a href="%5Bhttps://ankonichijyou.tistory.com/entry/JPA-OneToMany-%EC%98%A4%EB%A5%98%5D(https://ankonichijyou.tistory.com/entry/JPA-OneToMany-%EC%98%A4%EB%A5%98)"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://ankonichijyou.tistory.com/entry/JPA-OneToMany-%EC%98%A4%EB%A5%98">https://ankonichijyou.tistory.com/entry/JPA-OneToMany-오류</a></a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2021/01/22/failed-to-lazily-initialize-a-collection-of-role/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2021/01/22/failed-to-lazily-initialize-a-collection-of-role/" aria-label=": failed to lazily initialize a collection of role">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2021/01/12/Junit4-%EC%84%A4%EC%A0%95-%EC%A3%BC%EC%9E%85-%EC%97%90%EB%9F%AC/" aria-label=": Junit4 설정 주입 에러">
                            Junit4 설정 주입 에러
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-01-12T21:45:32+09:00">
	
		    2021/01/12
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>현재 작업 중인 프로젝트에서 테스트 코드를 작성해 테스트할 일이 있었는데 프로젝트의 환경은 spring 4.3에 Junit 4.8이었다.</p>
<p>이에 원래 사용하던 junit5로 넘어갈까 하였으나 junit5를 사용하려면 설정을 spring boot으로 해야 한다는 글들이 있어 같은 테스트 환경을 만들기 위해 junit만 4.12 버전으로 업그레이드한 후 테스트를 진행하였는데 spring 프로젝트지만 config 설정들을 boot 처럼 java 파일로 관리하는 형태여서 java 파일과 properties 파일을 동시에 잡아 줄 필요가 있었는데<br>@Contextconfiguration(classes = {블라블라…}, locations = {블라블라…})로 잡으니 에러가 발생하여 해결한 방법을 작성해놓는다.</p>
<hr>
<h2 id="본론"><a href="#본론" class="headerlink" title="본론"></a>본론</h2><h3 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ContextConfiguration(classes = &#123;</span></span><br><span class="line"><span class="meta">        DatabaseConfig.class,</span></span><br><span class="line"><span class="meta">        SecurityConfig.class,</span></span><br><span class="line"><span class="meta">        SocialConfig.class,</span></span><br><span class="line"><span class="meta">        EnumConfig.class,</span></span><br><span class="line"><span class="meta">        WebMvcConfig.class</span></span><br><span class="line"><span class="meta">&#125;, locations = &quot;classpath:properties/test.properties&quot;)</span></span><br></pre></td></tr></table></figure>

<p>서론에 적은 것 처럼 classes와 locations를 둘 다 설정하였더니 아래와 같이 에러가 발생하였다.</p>
<h3 id="에러"><a href="#에러" class="headerlink" title="에러"></a>에러</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">java.lang.IllegalArgumentException: Cannot process locations AND classes <span class="keyword">for</span> context configuration [ContextConfigurationAttributes@64c87930 declaringClass = <span class="string">&#x27;com.xxxx.xxxImplTest&#x27;</span>, classes = <span class="string">&#x27;&#123;class com.xxxx.config.DatabaseConfig, class com.xxx.config.SecurityConfig, class com.xxx.config.SocialConfig, class com.xxx.config.EnumConfig, class com.xxx.config.WebMvcConfig&#125;&#x27;</span>, locations = <span class="string">&#x27;&#123;classpath:properties/test.properties&#125;&#x27;</span>, inheritLocations = <span class="keyword">true</span>, initializers = <span class="string">&#x27;&#123;&#125;&#x27;</span>, inheritInitializers = <span class="keyword">true</span>, name = [<span class="keyword">null</span>], contextLoaderClass = <span class="string">&#x27;org.springframework.test.context.ContextLoader&#x27;</span>]: configure one or the other, but not both.</span><br><span class="line"></span><br><span class="line">	at org.springframework.util.Assert.isTrue(Assert.java:<span class="number">68</span>)</span><br><span class="line">	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.processContextConfiguration(AbstractDelegatingSmartContextLoader.java:<span class="number">154</span>)</span><br><span class="line">	at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:<span class="number">371</span>)</span><br><span class="line">	at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:<span class="number">305</span>)</span><br><span class="line">	at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:<span class="number">112</span>)</span><br><span class="line">	at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:<span class="number">120</span>)</span><br><span class="line">	at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:<span class="number">105</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:<span class="number">152</span>)</span><br><span class="line">	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:<span class="number">143</span>)</span><br><span class="line">	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</span><br><span class="line">	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:<span class="number">45</span>)</span><br><span class="line">	at java.lang.reflect.Constructor.newInstance(Constructor.java:<span class="number">423</span>)</span><br><span class="line">	at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:<span class="number">104</span>)</span><br><span class="line">	at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:<span class="number">86</span>)</span><br><span class="line">	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:<span class="number">70</span>)</span><br><span class="line">	at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:<span class="number">37</span>)</span><br><span class="line">	at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:<span class="number">70</span>)</span><br><span class="line">	at org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:<span class="number">28</span>)</span><br><span class="line">	at org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:<span class="number">19</span>)</span><br><span class="line">	at org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:<span class="number">36</span>)</span><br><span class="line">	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:<span class="number">49</span>)</span><br><span class="line">	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:<span class="number">33</span>)</span><br><span class="line">	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:<span class="number">230</span>)</span><br><span class="line">	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:<span class="number">58</span>)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="해결"><a href="#해결" class="headerlink" title="해결"></a>해결</h2><p>@Testpropertysource(classpath:””)로 test properties를 잡아주고<br>@Contextconfiguration(classes = { XXXConfig.class}) 로 Java config 파일들을 잡아준다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ContextConfiguration(classes = &#123;</span></span><br><span class="line"><span class="meta">        DatabaseConfig.class,</span></span><br><span class="line"><span class="meta">        SecurityConfig.class,</span></span><br><span class="line"><span class="meta">        SocialConfig.class,</span></span><br><span class="line"><span class="meta">        EnumConfig.class,</span></span><br><span class="line"><span class="meta">        WebMvcConfig.class</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="meta">@Testpropertysource(&quot;classpath:properties/test.properties&quot;)</span></span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a href="/2021/01/12/Junit4-%EC%84%A4%EC%A0%95-%EC%A3%BC%EC%9E%85-%EC%97%90%EB%9F%AC/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2021/01/12/Junit4-%EC%84%A4%EC%A0%95-%EC%A3%BC%EC%9E%85-%EC%97%90%EB%9F%AC/" aria-label=": Junit4 설정 주입 에러">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/" aria-label=": Hexo blog backup 방법">
                            Hexo blog backup 방법
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-01-02T15:54:05+09:00">
	
		    2021/01/02
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>많은 블로그 서비스 중 필자는 Git, Github를 활용해서 사용하는 hexo로 github 블로그를 선택했지만, 다른 블로그 서비스들과는 달리 설치형 블로그의 특성상 설치된 PC가 아닌 경우엔 블로그에 글을 작성하는 일이 쉽지 않고, 블로그가 설치된 PC가 고장이라도 나는 날에는 고스라니 블로그를 날려버리는 상황이 닥치는 경우도 왕왕있다. (예로 필자는 블로그를 설치한 HDD가 고장나 블로그를 새로 작성했다.) 이런 경우를 방지하고, 블로그 작성의 확장성을 위해 github을 이용해 Hexo 블로그를 back up 하는 방법을 알아본다.</p>
<hr>
<h2 id="방법"><a href="#방법" class="headerlink" title="방법"></a>방법</h2><img src="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/1_%EC%A0%80%EC%9E%A5%EC%86%8C.PNG" class title="Hexo blog backup 방법 post와 테마를 저장 할 저장소 생성 " alt="post와 테마를 저장 할 저장소 생성">

<ol>
<li>우선 위 사진처럼 github에서 테마와 post를 저장 할 repository를 생성한다.<br>이 때 테마를 저장 할 저장소의 이름은 테마와 같게 한다.</li>
</ol>
<img src="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/2_%ED%85%8C%EB%A7%88_%EC%A0%80%EC%9E%A5%EC%86%8C_%EB%B3%80%EA%B2%BD.PNG" class title="Hexo blog backup 방법 설치한 테마의 저장소 변경 " alt="설치한 테마의 저장소 변경">

<ol start="2">
<li>테마를 저장하기 위해 연결된 원격 저장소의 위치를 확인하고 설치한 테마 폴더 안에서 git 원격 저장소 주소를 변경한다.</li>
<li>변경 후 테마용 저장소에 테마를 push한다.</li>
</ol>
<img src="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/3_%ED%85%8C%EB%A7%88-%EC%A0%80%EC%9E%A5%ED%99%95%EC%9D%B8.PNG" class title="Hexo blog backup 방법 push 된 테마 확인 " alt="push 된 테마 확인">

<ol start="4">
<li>위 처럼 정상적으로 저장되어 있는지 확인하고 themes 폴더안에서 테마를 삭제한다.</li>
<li>git의 submodule 기능을 이용해 저장한 테마를 submodule로 추가하는데 이 때 디렉토리의 위치는 themes 폴더 내로 이동해서 submodule 기능을 실행한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add 테마 저장소</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>post를 저장 할 저장소 주소를 추가한다.(cotent)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add content post 저장소</span><br></pre></td></tr></table></figure>

<img src="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/4_post-%EC%A0%80%EC%9E%A5%ED%99%95%EC%9D%B8.PNG" class title="Hexo blog backup 방법 post 저장 확인 " alt="post 저장 확인">

<ol start="7">
<li>post 저장용 저장소에 내용을 push하고 정상적으로 저장되었는지 확인한다.</li>
<li>이 후엔 post 작성 후 post만 content 저장소로 push해주면 된다.</li>
</ol>
<hr>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><p>이제 우리는 불미스러운 사고로 블로그가 설치된 HDD가 고장나거나(ㅠㅠ), 블로그가 설치 안된 다른 PC or 노트북에서도 백업된 theme와 post들을 다운받아 블로그를 작성 할 수 있게 되었다.</p>
<p>여담이지만, 과거로 돌아간다면 나는 velog를 사용 할 듯 싶다.</p>
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://futurecreator.github.io/2018/07/18/hexo-blog-backup/">Hexo 배포 원리와 백업하기</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.naver.com/PostView.nhn?blogId=bestmic&logNo=220939712681&proxyReferer=https://www.google.com/">Git cached 삭제</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://snowdeer.github.io/git/2018/08/01/how-to-remove-git-submodule/">Git Submodule 삭제방법</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://stackoverflow.com/questions/24472596/git-fatal-pathspec-is-in-submodule">Git: fatal: Pathspec is in submodule</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2021/01/02/Hexo-blog-backup-%EB%B0%A9%EB%B2%95/" aria-label=": Hexo blog backup 방법">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/" aria-label=": RequestBody Annotation 사용 시 boolean 변수 바인딩 에러">
                            RequestBody Annotation 사용 시 boolean 변수 바인딩 에러
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-12-31T22:08:54+09:00">
	
		    2020/12/31
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="서론"><a href="#서론" class="headerlink" title="서론"></a>서론</h2><p>토이프로젝트 중 @Reqeust 어노테이션을 적용한 DTO에서 boolean 데이터를 제대로 전달 받지 못하는 문제가 발생하여 이를 정리한다.</p>
<hr>
<h2 id="문제-발생"><a href="#문제-발생" class="headerlink" title="문제 발생"></a>문제 발생</h2><p>vue.js에서 넘어온 데이터를 @RequestBody 어노테이션을 활용해 DTO 객체로 전달 받으려 하였는데 boolean 타입의 데이터가 정상적으로 넘어오지 않는 문제가 발생하였다.</p>
<h3 id="문제가-발생한-Test-Code"><a href="#문제가-발생한-Test-Code" class="headerlink" title="문제가 발생한 Test Code"></a>문제가 발생한 Test Code</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dto_boolean_test</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//given</span></span><br><span class="line">    RequestDTO dto = RequestDTO.builder()</span><br><span class="line">            .isTestCase(<span class="keyword">true</span>)</span><br><span class="line">            .isNQuantity(<span class="keyword">true</span>)</span><br><span class="line">            .isSpaceIncludeNumber(<span class="keyword">true</span>)</span><br><span class="line">            .build();</span><br><span class="line"></span><br><span class="line">    String test = objectMapper.writeValueAsString(dto);</span><br><span class="line"></span><br><span class="line">    System.out.println(test);</span><br><span class="line">    <span class="keyword">final</span> ResultActions action = mockMvc.perform(post(<span class="string">&quot;/frame&quot;</span>)</span><br><span class="line">            .contentType(MediaType.APPLICATION_JSON)</span><br><span class="line">            .content(test))</span><br><span class="line">            .andDo(print());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//then</span></span><br><span class="line">    MvcResult result = action</span><br><span class="line">            .andExpect(status().isOk())</span><br><span class="line">            .andExpect(content().json(test))</span><br><span class="line">            .andReturn();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="에러-결과"><a href="#에러-결과" class="headerlink" title="에러 결과"></a>에러 결과</h3><img src="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/test%EC%8B%A4%ED%8C%A8.PNG" class title="RequestBody Annotation 사용 시 boolean 변수 바인딩 에러">
<hr>
<h2 id="원인"><a href="#원인" class="headerlink" title="원인"></a>원인</h2><blockquote><p> You can annotate any field with @Getter and/or @Setter, to let lombok generate the default getter/setter automatically.<br>A default getter simply returns the field, and is named getFoo if the field is called foo (or isFoo if the field’s type is boolean). </p>
<footer><strong>Project Lombok</strong><cite><a target="_blank" rel="external nofollow noopener noreferrer" href="https://projectlombok.org/features/GetterSetter">Project Lombok</a></cite></footer></blockquote>

<p>위 설명처럼 lombok에서 제공하는 @Getter 혹은 @Setter 어노테이션을 사용 할 경우 자동으로 getter/setter 메서드를 생성해주는데<br>이 때 boolean 타입의 변수에 붙는 prefix는 get이 아닌 is이므로 @RequestBody에서 찾을 수 없어 바인딩 되지 않아 발생하는 문제였다.</p>
<h3 id="실패한-코드"><a href="#실패한-코드" class="headerlink" title="실패한 코드"></a>실패한 코드</h3><img src="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/%EC%8B%A4%ED%8C%A8%ED%95%9C_%EC%BD%94%EB%93%9C.PNG" class title="RequestBody Annotation 사용 시 boolean 변수 바인딩 에러 실패한_코드 실패했을 당시 DTO 실패한_코드 실패했을 당시 DTO">

<p>이 처럼 boolean 변수에 is prefix를 붙여놓은 상태에서 @Getter 어노테이션을 사용하니, 내부적으로 isIsTestCase() 같은 이상한 네이밍의 메서드가 생성되서<br>@RequestBody에서 바인딩에 사용하는 Jackson 라이브러리의 ObjectMapper에서 필드를 찾을 수 없어서 바인딩 되지 않아 DTO에 정상적으로 값이 입력되지 않았던 것이다.</p>
<blockquote><p>By default Jackson maps the fields of a JSON object to fields in a Java object by matching the names of the JSON field to the getter and setter methods in the Java object. Jackson removes the “get” and “set” part of the names of the getter and setter methods, and converts the first character of the remaining name to lowercase.</p>
<footer><strong>Jackson ObjectMapper</strong><cite><a target="_blank" rel="external nofollow noopener noreferrer" href="https://tutorials.jenkov.com/java-json/jackson-objectmapper.html#how-jackson-objectmapper-matches-json-fields-to-java-fields">Jackson ObjectMapper</a></cite></footer></blockquote>
<hr>
<h2 id="해결"><a href="#해결" class="headerlink" title="해결"></a>해결</h2><ol>
<li>boolean 변수명에서 is prefix를 제거한다.</li>
<li>default로 false로 되어 있는 lombok.getter.noIsPrefix=true 설정을 추가한다.<br>이 설정을 추가하면 boolean 변수도 get prefix를 사용한다.</li>
</ol>
<p>필자는 boolean 변수에서 is prefix를 제거하는 방식으로 처리했다.<br>다른 타입은 자료형에 따라 prefix를 붙이지 않는 상황에서 boolean 변수에만 붙이는 것이 옳지 않다고 생각했기 때문에 1번을 선택했다.</p>
<h3 id="수정된-코드"><a href="#수정된-코드" class="headerlink" title="수정된 코드"></a>수정된 코드</h3><img src="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/%EC%84%B1%EA%B3%B5%ED%95%9C_%EC%BD%94%EB%93%9C.PNG" class title="RequestBody Annotation 사용 시 boolean 변수 바인딩 에러 문제를 수정한 DTO 에러 문제를 수정한 DTO">

<h3 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h3><img src="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/test%EC%84%B1%EA%B3%B5.PNG" class title="RequestBody Annotation 사용 시 boolean 변수 바인딩 에러 수정 후 성공한 테스트 에러 수정 후 성공한 테스트">
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://projectlombok.org/features/GetterSetter">https://projectlombok.org/features/GetterSetter</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://velog.io/@conatuseus/RequestBody%EC%97%90-%EC%99%9C-%EA%B8%B0%EB%B3%B8-%EC%83%9D%EC%84%B1%EC%9E%90%EB%8A%94-%ED%95%84%EC%9A%94%ED%95%98%EA%B3%A0-Setter%EB%8A%94-%ED%95%84%EC%9A%94-%EC%97%86%EC%9D%84%EA%B9%8C-3-idnrafiw">https://velog.io/@conatuseus/RequestBody%EC%97%90-%EC%99%9C-%EA%B8%B0%EB%B3%B8-%EC%83%9D%EC%84%B1%EC%9E%90%EB%8A%94-%ED%95%84%EC%9A%94%ED%95%98%EA%B3%A0-Setter%EB%8A%94-%ED%95%84%EC%9A%94-%EC%97%86%EC%9D%84%EA%B9%8C-3-idnrafiw</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://tutorials.jenkov.com/java-json/jackson-objectmapper.html#how-jackson-objectmapper-matches-json-fields-to-java-fields">http://tutorials.jenkov.com/java-json/jackson-objectmapper.html#how-jackson-objectmapper-matches-json-fields-to-java-fields</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/12/31/RequestBody-Annotation-%EC%82%AC%EC%9A%A9-%EC%8B%9C-boolean-%EB%B3%80%EC%88%98-%EB%B0%94%EC%9D%B8%EB%94%A9-%EC%97%90%EB%9F%AC/" aria-label=": RequestBody Annotation 사용 시 boolean 변수 바인딩 에러">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/" aria-label=": 백준 18870번: 좌표 압축">
                            백준 18870번: 좌표 압축
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-12-15T14:43:55+09:00">
	
		    2020/12/15
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.acmicpc.net/problem/18870">https://www.acmicpc.net/problem/18870</a></p>
<hr>
<h2 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">    br.readLine();</span><br><span class="line">    Integer[] array = convertStringArrayToIntegerArray(br.readLine().split(<span class="string">&quot; &quot;</span>));</span><br><span class="line">    List&lt;Integer&gt; list = Arrays.asList(array.clone());</span><br><span class="line"></span><br><span class="line">    Collections.sort(list);</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(i)) &#123;</span><br><span class="line">            map.put(i, index++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : array) &#123;</span><br><span class="line">            sb.append(map.get(i)).append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(sb.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Integer[] convertStringArrayToIntegerArray(String[] args) &#123;</span><br><span class="line">    Integer[] array = <span class="keyword">new</span> Integer[args.length];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String str : args) &#123;</span><br><span class="line">        array[i++] = Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="흐름"><a href="#흐름" class="headerlink" title="흐름"></a>흐름</h2><ol>
<li>입력받은 좌표를 저장한 리스트로 수정하면 출력 순서를 맞출 수 없으니 우선 좌표 list를 복사한다.</li>
<li>복사한 list를 정렬하고 순서대로 반복하면서 좌표값을 key로 index를 저장한다.<ol>
<li>{-10 : 0}, {-9, 1}… {4,4}</li>
</ol>
</li>
<li>입력받은 좌표를 순서대로 반복하면서 map에 key로 index를 가져온다.</li>
<li>끝</li>
</ol>
<hr>
<h2 id="좌표-압축의-이유"><a href="#좌표-압축의-이유" class="headerlink" title="좌표 압축의 이유"></a>좌표 압축의 이유</h2><img src="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/%EC%95%95%EC%B6%95%EC%A0%84.PNG" class title="백준 18870번: 좌표 압축 좌표 {2 4 -10 4 -9} 압축 전 " alt="좌표 {2 4 -10 4 -9} 압축 전">

<br>

<img src="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/%EC%95%95%EC%B6%95%ED%9B%84.PNG" class title="백준 18870번: 좌표 압축 좌표 {2 4 -10 4 -9} 압축 전 " alt="좌표 {2 4 -10 4 -9} 압축 후">

<ul>
<li>문제의 예제인 좌표 {2 4 -10 4 -9}을 위와 같은 알고리즘으로 압축하면 {2 3 0 3 1}이 되는데 위 그림 처럼 압축된 점들도 같은 동일선상 안에 놓이게 된다.</li>
<li>이렇게 범위가 매우 넓은 좌표의 경우에 좌표를 인덱싱해서 처리 할 경우 손쉽게 처리 할 수 있게 된다.</li>
</ul>
<hr>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><img src="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/%EC%BA%A1%EC%B2%98.PNG" class title="백준 1406번: 에디터">
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.desmos.com/calculator/id7dqtpnmv?lang=ko">https://www.desmos.com/calculator/id7dqtpnmv?lang=ko</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://codingdog.tistory.com/entry/%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%B2%94%EC%9C%84%EA%B0%80-%ED%81%B4-%EB%95%8C-%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B3%B5%EA%B0%84%EC%9D%84-%EC%A4%84%EC%9D%BC%EA%B9%8C%EC%9A%94">https://codingdog.tistory.com/entry/%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%B2%94%EC%9C%84%EA%B0%80-%ED%81%B4-%EB%95%8C-%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B3%B5%EA%B0%84%EC%9D%84-%EC%A4%84%EC%9D%BC%EA%B9%8C%EC%9A%94</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/12/15/%EB%B0%B1%EC%A4%80-18870%EB%B2%88-%EC%A2%8C%ED%91%9C-%EC%95%95%EC%B6%95/" aria-label=": 백준 18870번: 좌표 압축">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/12/14/%EB%B0%B1%EC%A4%80-1406%EB%B2%88-%EC%97%90%EB%94%94%ED%84%B0/" aria-label=": 백준 1406번: 에디터">
                            백준 1406번: 에디터
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-12-14T15:12:57+09:00">
	
		    2020/12/14
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.acmicpc.net/problem/1406">https://www.acmicpc.net/problem/1406</a></p>
<hr>
<h2 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">    <span class="keyword">char</span>[] input = br.readLine().toCharArray();</span><br><span class="line"></span><br><span class="line">    LinkedList&lt;Character&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : input) &#123;</span><br><span class="line">        list.add(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListIterator&lt;Character&gt; it = list.listIterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">        it.next();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n = Integer.parseInt(br.readLine());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        String command = br.readLine();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (command) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;L&quot;</span> :</span><br><span class="line">                <span class="keyword">if</span> (it.hasPrevious()) &#123;</span><br><span class="line">                    it.previous();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;D&quot;</span> :</span><br><span class="line">                <span class="keyword">if</span> (it.hasNext()) &#123;</span><br><span class="line">                    it.next();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;B&quot;</span> :</span><br><span class="line">                <span class="keyword">if</span> (it.hasPrevious() &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">                    it.previous();</span><br><span class="line">                    it.remove();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                it.add(command.charAt(<span class="number">2</span>));</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : list) &#123;</span><br><span class="line">        sb.append(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(sb);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>이 문제는 로직보다 걸리는 시간이 문제였다.</li>
<li>처음엔 LinkedList를 그대로 사용해 add, remove를 했지만 시간초과로 인해 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ListIterator.html">ListIterator</a>을 이용해 해결했다.</li>
</ul>
<hr>
<h2 id="ListIterator"><a href="#ListIterator" class="headerlink" title="ListIterator"></a>ListIterator</h2><ul>
<li>List를 양방향으로 탐색하고, 루프 중에 리스트를 수정하고, 리스트에서 현재 위치를 가져올 수 있다.</li>
<li>커서는 previous()로 리턴되는 원소와 next()로 리턴되는 원소 사이에 존재한다.</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">                    Element(0)   Element(1)   Element(2)   ... Element(n-1)</span><br><span class="line">cursor positions:  ^            ^            ^            ^                  ^</span><br></pre></td></tr></table></figure>

<ul>
<li>remove()와 set()를 호출해도 커서의 위치는 움직이지 않는다.</li>
<li>remove() 호출 시 next()혹은 preivous()에 의해 리턴된 마지막 요소를 리스트에서 제거한다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="string">&quot;B&quot;</span> :</span><br><span class="line">        <span class="keyword">if</span> (it.hasPrevious() &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">            it.previous();</span><br><span class="line">            it.remove();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><img src="/2020/12/14/%EB%B0%B1%EC%A4%80-1406%EB%B2%88-%EC%97%90%EB%94%94%ED%84%B0/%EC%BA%A1%EC%B2%98.PNG" class title="백준 1406번: 에디터">
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.acmicpc.net/board/view/59173">https://www.acmicpc.net/board/view/59173</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ListIterator.html">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ListIterator.html</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/12/14/%EB%B0%B1%EC%A4%80-1406%EB%B2%88-%EC%97%90%EB%94%94%ED%84%B0/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/12/14/%EB%B0%B1%EC%A4%80-1406%EB%B2%88-%EC%97%90%EB%94%94%ED%84%B0/" aria-label=": 백준 1406번: 에디터">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/12/08/%EB%B0%B1%EC%A4%80-11724%EB%B2%88-%EC%97%B0%EA%B2%B0-%EC%9A%94%EC%86%8C%EC%9D%98-%EA%B0%9C%EC%88%98/" aria-label=": 백준 11724번: 연결 요소의 개수">
                            백준 11724번: 연결 요소의 개수
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-12-08T15:42:15+09:00">
	
		    2020/12/08
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.acmicpc.net/problem/11724">https://www.acmicpc.net/problem/11724</a></p>
<hr>
<h2 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] nm = convertStringArrayToIntegerArray(br.readLine().split(<span class="string">&quot; &quot;</span>));</span><br><span class="line">    <span class="keyword">int</span> n = nm[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> m = nm[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[][] graph = <span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span> (m-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] xy = convertStringArrayToIntegerArray(br.readLine().split(<span class="string">&quot; &quot;</span>));</span><br><span class="line"></span><br><span class="line">        graph[xy[<span class="number">0</span>]][xy[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">        graph[xy[<span class="number">1</span>]][xy[<span class="number">0</span>]] = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> answer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[] isVisit = <span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; graph.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isVisit[i]) &#123;</span><br><span class="line">            answer += bfs(isVisit, graph, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(answer);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] convertStringArrayToIntegerArray(String[] args) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[args.length];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String str : args) &#123;</span><br><span class="line">        array[i++] = Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">boolean</span>[] isVisit, <span class="keyword">boolean</span>[][] graph,<span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(startIndex);</span><br><span class="line">    isVisit[startIndex] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = queue.poll();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; isVisit.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isVisit[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (graph[x][i]) &#123;</span><br><span class="line">                queue.offer(i);</span><br><span class="line">                isVisit[i] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="흐름"><a href="#흐름" class="headerlink" title="흐름"></a>흐름</h2><ol>
<li>그래프의 연결 관계를 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EC%9D%B8%EC%A0%91%ED%96%89%EB%A0%AC">인접행렬</a>로 만들기 위해 정점의 개수 + n한 크기의 2차원 배열을 만들고, </li>
<li>이 문제에서 그래프는 방향이 없는 무방향 그래프이기 때문에 a-&gt;b로 가는 간선이 있으면 b-&gt;a로 가는 간선도 있는 것이므로 대칭이 되도록 배열에 저장한다.</li>
<li>이후 정점의 개수만큼 루프 돌면서 연결요소의 개수를 구하는데 아직 간선이 연결되지 않은 정점일 경우에만 BFS 탐색을 통해 탐색한다.</li>
<li>queue를 이용해 bfs를 구현하는데 우선 탐색이 시작되는 정점의 index를 queue에 저장하고, isVisit[] 변수에도 true로 해당 index를 탐색했다고 저장한다.</li>
<li>queue가 빌 때 까지 반복하면서 queue에 저장된 index를 poll한다.</li>
<li>정점의 개수 만큼 반복하면서 이미 연결된 정점이면 넘어가고</li>
<li>아직 연결되지 않은 정점이면서 다른 정점과 연결된 정점이면 queue에 해당 index를 저장하고, 방문했으니 true도 저장한다.</li>
<li>queue가 비어 루프가 종료되면 연결 요소 하나가 완성된 것이므로 1을 return 하고 bfs를 종료한다.</li>
<li>return된 1들을 저장해 모든 정점을 탐색 후 종료한다.</li>
<li>끝</li>
</ol>
<hr>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><img src="/2020/12/08/%EB%B0%B1%EC%A4%80-11724%EB%B2%88-%EC%97%B0%EA%B2%B0-%EC%9A%94%EC%86%8C%EC%9D%98-%EA%B0%9C%EC%88%98/%EC%BA%A1%EC%B2%98.PNG" class title="백준 11724번: 연결 요소의 개수">
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://sarah950716.tistory.com/12">https://sarah950716.tistory.com/12</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/12/08/%EB%B0%B1%EC%A4%80-11724%EB%B2%88-%EC%97%B0%EA%B2%B0-%EC%9A%94%EC%86%8C%EC%9D%98-%EA%B0%9C%EC%88%98/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/12/08/%EB%B0%B1%EC%A4%80-11724%EB%B2%88-%EC%97%B0%EA%B2%B0-%EC%9A%94%EC%86%8C%EC%9D%98-%EA%B0%9C%EC%88%98/" aria-label=": 백준 11724번: 연결 요소의 개수">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/12/02/%EB%B0%B1%EC%A4%80-5525%EB%B2%88-IOIOI/" aria-label=": 백준 5525번: IOIOI">
                            백준 5525번: IOIOI
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-12-02T18:02:25+09:00">
	
		    2020/12/02
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.acmicpc.net/problem/5525">https://www.acmicpc.net/problem/5525</a></p>
<hr>
<h2 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">    <span class="keyword">int</span> n = Integer.parseInt(br.readLine());</span><br><span class="line">    br.readLine();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> answer = solution(n, br.readLine());</span><br><span class="line"></span><br><span class="line">    System.out.println(answer);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solution</span><span class="params">(<span class="keyword">int</span> n, String target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> answer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>[] s = target.toCharArray();</span><br><span class="line">    <span class="keyword">char</span>[] targetString = getTargetString(n).toCharArray();</span><br><span class="line">    <span class="keyword">int</span>[] fail = failFunction(targetString);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (start &lt;= s.length - targetString.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (m &lt; targetString.length &amp;&amp; s[start + m] == targetString[m]) &#123;</span><br><span class="line">            ++m;</span><br><span class="line">            <span class="keyword">if</span> (m == targetString.length) &#123;</span><br><span class="line">                answer++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>  (m == <span class="number">0</span>) &#123;</span><br><span class="line">                start++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                start += (m - fail[m - <span class="number">1</span>]);</span><br><span class="line">                m = fail[m - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getTargetString</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sb.append(<span class="string">&quot;I&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (n-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        sb.append(<span class="string">&quot;OI&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] failFunction(<span class="keyword">char</span>[] target) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = target.length;</span><br><span class="line">    <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (start + m &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target[start + m] == target[m]) &#123;</span><br><span class="line">            m++;</span><br><span class="line">            fail[start + m - <span class="number">1</span>] = m;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">                start++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                start += (m - fail[m - <span class="number">1</span>]);</span><br><span class="line">                m = fail[m - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="흐름"><a href="#흐름" class="headerlink" title="흐름"></a>흐름</h2><ul>
<li><strong><a target="_blank" rel="external nofollow noopener noreferrer" href="https://ko.wikipedia.org/wiki/%EC%BB%A4%EB%88%84%EC%8A%A4-%EB%AA%A8%EB%A6%AC%EC%8A%A4-%ED%94%84%EB%9E%AB_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98">KMP 알고리즘</a></strong> 을 이용해 해결</li>
</ul>
<ol>
<li>S에서 찾을 문자열(targetString)을 만든다.</li>
<li>찾을 문자열에서 실패함수 값을 구한다.</li>
<li>배열의 범위를 벗어나기 전까지 반복한다.</li>
<li>검색 할 문자열 s에서 찾을 단어을 한 문자씩 비교한다.</li>
<li>한 문자가 같으면, 그 다음 문자를 비교 할 수 있게 m을 1씩 더해서 최종적으로 문자열에 단어가 포함되어 있으면 answer를 증가시킨다.</li>
<li>문자가 일치하지 않으면<ol>
<li>m이 0이면 시작도 못해본거니깐 검색 할 문자열에서 한 문자 뒤로 간다.<br>ex) S = ABCDEF 일 경우, B부터 검색하도록 start를 증가</li>
<li>0이 아니면 단어에서 어느정도 일치한 문자열이 존재한 것이므로 비교 시작 할 문자의 index를 m에서 실패함수 값을 빼서 구한다.</li>
<li>일치한 문자열 뒤 부터 검색하면 되므로 m도 실패함수 값에서 구한다.</li>
</ol>
</li>
<li>반복이 끝나면 answer 값을 return 한다.</li>
<li>끝.</li>
</ol>
<hr>
<h2 id="KMP-알고리즘-해설"><a href="#KMP-알고리즘-해설" class="headerlink" title="KMP 알고리즘 해설"></a>KMP 알고리즘 해설</h2><blockquote><p>문자열에서 특정 패턴을 찾아내는 문자열 검색 알고리즘</p>
<footer><strong>위키백과</strong></footer></blockquote>

<ul>
<li>비교한 정보를 최대한 활용</li>
<li>문자열 S = OOIOIIOIOIOIOIOIOIOIOOIOI 에서 패턴 M = IOIOI 를 찾는다고 가정</li>
<li>우선 패턴 M의 실패함수를 구하기 위해 IOIOI에서 접두사와 접미사의 길이가 가장 긴 부분을 구한다.</li>
</ul>
<h3 id="실패함수"><a href="#실패함수" class="headerlink" title="실패함수"></a>실패함수</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] failFunction(<span class="keyword">char</span>[] target) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = target.length;</span><br><span class="line">    <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (start + m &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target[start + m] == target[m]) &#123;</span><br><span class="line">            m++;</span><br><span class="line">            fail[start + m - <span class="number">1</span>] = m;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">                start++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                start += (m - fail[m - <span class="number">1</span>]);</span><br><span class="line">                m = fail[m - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>IOIOI 패턴에서 index 1에 저장된 ‘O’와 0에 저장된 ‘I’는 같지 않으므로 비교가 시작되는 위치를 1 증가 시킨다. (현재 start = 2, m = 0)</li>
<li>루프에 의해 다시 비교하면 2에 저장된 ‘I’와 0에 저장된 ‘O’는 같으니 m을 증가시키고 접두사와 접미사가 일치한 값인 m를 저장한다. (현재 start = 2, m = 1)<ol>
<li>IOIOI에서 IOI까지 진행한 상태에서 I와 I가 일치 했으므로 길이 1이 일치한 것</li>
</ol>
</li>
<li>3에 저장된 ‘O’과 1에 저장된 ‘O’가 같으므로, 다시 m을 1 증가 시키고 접두사와 접미사가 일치한 값인 m을 저장한다. (현재 start = 2, m = 2)<ol>
<li>IOIOI에서 IOIO까지 진행한 상태에서 ‘IO’와 ‘IO’가 같으므로 길이 2가 일치한 것</li>
</ol>
</li>
<li>4에 저장된 ‘I’과 2에 저장된 ‘I’가 같으므로, 다시 m을 1 증가 시키고 접두사와 접미사가 일치한 값인 m을 저장한다. (현재 start = 2, m = 3)<ol>
<li>IOIOI는 접두사 ‘IOI’와 ‘IOI’의 길이가 3이므로 3</li>
</ol>
</li>
<li>array return</li>
<li>끝</li>
</ol>
<h3 id="KMP-알고리즘"><a href="#KMP-알고리즘" class="headerlink" title="KMP 알고리즘"></a>KMP 알고리즘</h3><ul>
<li>실패함수 값 구하는 것과 동일하다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solution</span><span class="params">(<span class="keyword">int</span> n, String target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> answer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>[] s = target.toCharArray();</span><br><span class="line">    <span class="keyword">char</span>[] targetString = getTargetString(n).toCharArray();</span><br><span class="line">    <span class="keyword">int</span>[] fail = failFunction(targetString);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (start &lt;= s.length - targetString.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (m &lt; targetString.length &amp;&amp; s[start + m] == targetString[m]) &#123;</span><br><span class="line">            ++m;</span><br><span class="line">            <span class="keyword">if</span> (m == targetString.length) &#123;</span><br><span class="line">                answer++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>  (m == <span class="number">0</span>) &#123;</span><br><span class="line">                start++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                start += (m - fail[m - <span class="number">1</span>]);</span><br><span class="line">                m = fail[m - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>실패함수 array [0, 0, 1, 2, 3]</li>
</ul>
<ol>
<li>m이 패턴의 길이보다 작고, 문자열 s(OOIOIIOIOIOIOIOIOIOIOOIOI) 에서 start+m 한 index의 문자와 비교할 패턴(IOIOI)의 m 번째 문자가 같지 않으므로 s에서 비교가 시작되는 위치를 1 증가 시킨다. (현재 start = 1, m = 0)</li>
<li>S의 1와 패턴의 0을 비교해도 여전히 같지 않으므로 시작 위치를 또 증가 시킨다. (start = 2, m = 0)</li>
<li>S의 2와 패턴의 0을 비교하면 둘다 ‘I’로 같으므로 m을 증가 시키고 패턴의 길이와 같을 때 까지 반복한다. (start = 2, m = 1)</li>
<li>S의 3와 패턴의 1을 비교하면 둘다 ‘O’로 같으므로 m을 증가 시키고 패턴의 길이와 같을 때 까지 반복한다. (start = 2, m = 2)</li>
<li>S의 4와 패턴의 2을 비교하면 둘다 ‘I’로 같으므로 m을 증가 시키고 패턴의 길이와 같을 때 까지 반복한다. (start = 2, m = 3)</li>
<li>S의 5와 패턴의 3을 비교하면 같지 않고 이제 m이 0이 아니므로,</li>
<li>s의 시작 위치를 증가 시켜야 하는데 1을 증가 시키는게 아니라 이전에 구한 실패 함수 값에서 찾아온다.<ol>
<li>(m(3) - 실패함수 값 array[m(3) - 1]) = 2</li>
<li>즉 현재 시작 위치에서 1을 더한 값이 아닌 2를 더한다.</li>
<li>이미 index 4까지는 접두사 접미사가 2 자리까지 같기 때문에</li>
</ol>
</li>
<li>m 역시 실패함수 값을 가져온다.<ol>
<li>IOIOI에서 IOIO까지 비교한 값에서 실패했기 떄문에 </li>
<li>그 이전 접미사 접두사 길이만큼으로 비교한다.</li>
</ol>
</li>
<li>이 시점에서 start = 4, m = 1이 되고 루프를 반복한다.</li>
<li>4와 1은 같지 않으므로 다시 7번부터 8번까지 반복해서 start와 m을 조정한다.<ol>
<li>이 예제로 하면 처음부터 같지 않았으므로 start는 한칸만 뒤로 가고</li>
<li>m 역시 접두사 접미사 1 짜리도 실패했으므로 처음부터 비교한다.</li>
<li>(start = 5, m = 0)</li>
</ol>
</li>
<li>(5, 0), (6, 1), (7, 2), (8, 3), (9, 4) 이 쭉~ 같으므로 드디어 문자열 s에서 패턴을 찾은 것이므로 answer을 증가 시킨다.</li>
<li>그 이후로 다시 비교하면 m의 길이가 패턴의 길이를 넘어 갔으므로,</li>
<li>start와 m의 위치를 다시 조정한다.</li>
<li>반복</li>
<li>끝.</li>
</ol>
<ul>
<li>결국 정리하면, 처음 말한 것 처럼 이미 비교한 값은 다시 비교하지 않고 그 다음 부터 비교하는 방식으로 시간을 줄인다.</li>
<li>더 자세한 설명들은 글 마지막 참고 사이트를 찾아가면 다른 분들이 매우 자세하게 설명해주시고 계신다.</li>
</ul>
<hr>
<h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><img src="/2020/12/02/%EB%B0%B1%EC%A4%80-5525%EB%B2%88-IOIOI/%EC%BA%A1%EC%B2%98.PNG" class title="백준 5525번: IOIOI">
<hr>
<h2 id="테스트-케이스"><a href="#테스트-케이스" class="headerlink" title="테스트 케이스"></a>테스트 케이스</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">assertEquals(<span class="number">4</span>, test.solution(<span class="number">1</span>, <span class="string">&quot;OOIOIOIOIIOII&quot;</span>));</span><br><span class="line">assertEquals(<span class="number">6</span>, test.solution(<span class="number">2</span>, <span class="string">&quot;OOIOIIOIOIOIOIOIOIOIOOIOI&quot;</span>));</span><br><span class="line">assertEquals(<span class="number">7</span>, test.solution(<span class="number">1</span>, <span class="string">&quot;IOIOIOIOIOIOIOI&quot;</span>));</span><br></pre></td></tr></table></figure>

<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://m.blog.naver.com/tpinlab/10119424299">https://m.blog.naver.com/tpinlab/10119424299</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.naver.com/PostView.nhn?blogId=kks227&logNo=220917078260&categoryNo=299&parentCategoryNo=0&viewDate=&currentPage=4&postListTopCurrentPage=&from=menu&userTopListOpen=true&userTopListCount=5&userTopListManageOpen=false&userTopListCurrentPage=4">https://blog.naver.com/PostView.nhn?blogId=kks227&amp;logNo=220917078260&amp;categoryNo=299&amp;parentCategoryNo=0&amp;viewDate=&amp;currentPage=4&amp;postListTopCurrentPage=&amp;from=menu&amp;userTopListOpen=true&amp;userTopListCount=5&amp;userTopListManageOpen=false&amp;userTopListCurrentPage=4</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://baeharam.github.io/posts/algorithm/kmp/">https://baeharam.github.io/posts/algorithm/kmp/</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://vvshinevv.tistory.com/2">https://vvshinevv.tistory.com/2</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/12/02/%EB%B0%B1%EC%A4%80-5525%EB%B2%88-IOIOI/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/12/02/%EB%B0%B1%EC%A4%80-5525%EB%B2%88-IOIOI/" aria-label=": 백준 5525번: IOIOI">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/11/18/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C/" aria-label=": 프로세스와 스레드">
                            프로세스와 스레드
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-11-18T17:50:57+09:00">
	
		    2020/11/18
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><ul>
<li>프로세스(Process)란 메모리 위에 올라와서 실행 중인 프로그램으로 각각의 프로세스는 모두 독립적인 상태이고 Os로부터 자원을 할당 받은 작업의 단위.</li>
<li>스레드(Thread)란 프로세스 내에서 실행되는 작업의 수행 단위로 각각의 스레드는 프로세스가 할당받은 자원을 이용하면서 스레드간 메모리를 공유하며 작동한다.</li>
</ul>
<hr>
<h2 id="작동-방식"><a href="#작동-방식" class="headerlink" title="작동 방식"></a>작동 방식</h2><h3 id="프로세스"><a href="#프로세스" class="headerlink" title="프로세스"></a>프로세스</h3><img src="/2020/11/18/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C/process.png" class title="프로세스와 스레드 OS에서 자원을 할당받은 프로세스들 " alt="OS에서 자원을 할당받은 프로세스들 (이미지 출처: https:&#x2F;&#x2F;gmlwjd9405.github.io&#x2F;2018&#x2F;09&#x2F;14&#x2F;process-vs-thread.html)">

<ul>
<li>프로세스는 OS로부터 Code, Data, Stack, Heap으로 이루어진 독립된 메모리 영역을 할당 받는다.</li>
<li>각각 독립된 영역을 할당 받으므로 기본적으로 프로세스들 간에는 다른 프로세스의 변수나, 자료구조에 접근 할 수 없으며 서로 간 통신을 위해선 커널 영역에 IPC를 이용해 프로세스간 통신을 할 수 있다.</li>
</ul>
<h3 id="프로세스-내-메모리-구조"><a href="#프로세스-내-메모리-구조" class="headerlink" title="프로세스 내 메모리 구조"></a>프로세스 내 메모리 구조</h3><ol>
<li>Code 영역 : 프로그램에서 수행 할 코드가 로딩 되는 메모리</li>
<li>Data 영역 : 프로그램이 실행 될 때 생성되고, 종료 될 때 시스템에 반환되며 BBS와 Data영역으로 나뉘는데 BBS엔 초기화 되지 않은 변수를 위한 영역이고, Data는 초기화된 데이터를 저장하는 메모리이다.</li>
<li>Heap 영역 : 프로그램이 실행되는 동안 필요에 의해 동적으로 사요되는 메모리 영역으로 대표적으로 C언어의 malloc함수를 이용해 메모리를 할당한다면 이 영역에 할당되고 Java의 Object 타입들은 heap 영역에 생성된다.</li>
<li>Stack 영역 : 프로그램이 자동으로 사용하는 임시 메모리 영역으로 지연벽수, 파라미터, 리턴 값 등 잠시 사용됐다가 사라지는 데이터를 저장하는 영역으로 함수 호출 시 생성되고 함수가 끝나면 반환된다. 예로 메서드 내에서 선언한 지역 변수는 Stack 영역에 저장되기 때문에 메서드가 끝날 때 함께 사라지므로 다른 메서드에서 호출 할 수 없다.</li>
</ol>
<h3 id="스레드"><a href="#스레드" class="headerlink" title="스레드"></a>스레드</h3><img src="/2020/11/18/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C/thread.png" class title="프로세스와 스레드 프로세스에서 자원을 할당받은 스레드들 " alt="프로세스에서 자원을 할당받은 스레드들 (이미지 출처: https:&#x2F;&#x2F;gmlwjd9405.github.io&#x2F;2018&#x2F;09&#x2F;14&#x2F;process-vs-thread.html)">

<ul>
<li>스레드는 프로세스 내부에 존재하고 Stack 영역만 각 스레드마다 독립적으로 할당 받고 그 외에 프로세스 영역에 있는 code, data, heap 영역은 프로세스 내에 있는 스레드 끼리 공유한다.</li>
<li>때문에 한 스레드에서 공유된 영역의 자원을 수정한다면 다른 스레드에서 그 자원을 사용 할 때 변경된 자원을 사용하게 되고</li>
<li>결국 개발자가 자원을 동기적으로 사용 할 수 있도록 처리 할 수 있어야 한다.</li>
<li>프로세스 내 자원을 함께 공유하기 때문에 모든 자원을 각각 독립되게 할당 받은 프로세스와 달리 같은 프로세스 내의 스레드가 문제가 생긴다면 다른 스레드들도 강제로 종료되게 된다.</li>
</ul>
<hr>
<h2 id="참고-사이트"><a href="#참고-사이트" class="headerlink" title="참고 사이트"></a>참고 사이트</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.yalco.kr/14_process_thread/">https://www.yalco.kr/14_process_thread/</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html">https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://velog.io/@raejoonee/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4">https://velog.io/@raejoonee/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://recorda.tistory.com/entry/20160503%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0">https://recorda.tistory.com/entry/20160503%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0</a></li>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://ehpub.co.kr/54-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0/">https://ehpub.co.kr/54-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0/</a></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a href="/2020/11/18/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C/#post-footer" class="postShorten-excerpt_link link" aria-label>
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a href="/2020/11/18/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C/" aria-label=": 프로세스와 스레드">
                <div class="postShorten-thumbnailimg">
                    <img alt src>
                </div>
            </a>
            
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="/" aria-label="최근 포스트">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>최근 포스트</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/page/3/" aria-label="이전 포스트">
              <span>이전 포스트</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 2 of 10</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Junggu Ji. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Junggu Ji</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-goamtf3h90u4wvmhg5penagquqoptje05tyii1tz44r8vwvh6klg97rf1weo.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
